---
page_title: "vyos_nat_source_rule Resource - vyos"

subcategory: "Nat"

description: |-
  Network Address Translation (NAT) parameters⯯Source NAT settings⯯Rule number for NAT
---

# vyos_nat_source_rule (Resource)
<center>

Network Address Translation (NAT) parameters  
⯯  
Source NAT settings  
⯯  
**Rule number for NAT**


</center>

-> This provider is in "early access", please see the current status at: https://github.com/thomasfinstad/terraform-provider-vyos-rolling/milestones?state=open

<!--TOC-->

- [vyos_nat_source_rule (Resource)](#vyos_nat_source_rule-resource)
  - [Schema](#schema)
    - [Required](#required)
      - [identifier](#identifier)
    - [Optional](#optional)
      - [description](#description)
      - [destination](#destination)
      - [disable](#disable)
      - [exclude](#exclude)
      - [load_balance](#load_balance)
      - [log](#log)
      - [outbound_interface](#outbound_interface)
      - [packet_type](#packet_type)
      - [protocol](#protocol)
      - [source](#source)
      - [timeouts](#timeouts)
      - [translation](#translation)
    - [Read-Only](#read-only)
      - [id](#id)
    - [Nested Schema for `identifier`](#nested-schema-for-identifier)
    - [Nested Schema for `destination`](#nested-schema-for-destination)
    - [Nested Schema for `destination.group`](#nested-schema-for-destinationgroup)
    - [Nested Schema for `load_balance`](#nested-schema-for-load_balance)
    - [Nested Schema for `outbound_interface`](#nested-schema-for-outbound_interface)
    - [Nested Schema for `source`](#nested-schema-for-source)
    - [Nested Schema for `source.group`](#nested-schema-for-sourcegroup)
    - [Nested Schema for `timeouts`](#nested-schema-for-timeouts)
    - [Nested Schema for `translation`](#nested-schema-for-translation)
    - [Nested Schema for `translation.options`](#nested-schema-for-translationoptions)

<!--TOC-->

<!-- schema generated by tfplugindocs -->
## Schema

### Required

#### identifier
- `identifier` (Attributes) (see [below for nested schema](#nestedatt--identifier))

### Optional

#### description
- `description` (String) Description

    |  Format  &emsp;|  Description  |
    |----------|---------------|
    |  txt     &emsp;|  Description  |
#### destination
- `destination` (Attributes) NAT destination parameters (see [below for nested schema](#nestedatt--destination))
#### disable
- `disable` (Boolean) Disable instance
#### exclude
- `exclude` (Boolean) Exclude packets matching this rule from NAT
#### load_balance
- `load_balance` (Attributes) Apply NAT load balance (see [below for nested schema](#nestedatt--load_balance))
#### log
- `log` (Boolean) Log packets hitting this rule
#### outbound_interface
- `outbound_interface` (Attributes) Match outbound-interface (see [below for nested schema](#nestedatt--outbound_interface))
#### packet_type
- `packet_type` (String) Packet type

    |  Format     &emsp;|  Description                                      |
    |-------------|---------------------------------------------------|
    |  broadcast  &emsp;|  Match broadcast packet type                      |
    |  host       &emsp;|  Match host packet type, addressed to local host  |
    |  multicast  &emsp;|  Match multicast packet type                      |
    |  other      &emsp;|  Match packet addressed to another host           |
#### protocol
- `protocol` (String) Protocol to NAT

    |  Format           &emsp;|  Description                                   |
    |-------------------|------------------------------------------------|
    |  all              &emsp;|  All IP protocols                              |
    |  ip               &emsp;|  Internet Protocol, pseudo protocol number     |
    |  hopopt           &emsp;|  IPv6 Hop-by-Hop Option [RFC1883]              |
    |  icmp             &emsp;|  internet control message protocol             |
    |  igmp             &emsp;|  Internet Group Management                     |
    |  ggp              &emsp;|  gateway-gateway protocol                      |
    |  ipencap          &emsp;|  IP encapsulated in IP (officially IP)         |
    |  st               &emsp;|  ST datagram mode                              |
    |  tcp              &emsp;|  transmission control protocol                 |
    |  egp              &emsp;|  exterior gateway protocol                     |
    |  igp              &emsp;|  any private interior gateway (Cisco)          |
    |  pup              &emsp;|  PARC universal packet protocol                |
    |  udp              &emsp;|  user datagram protocol                        |
    |  tcp_udp          &emsp;|  Both TCP and UDP                              |
    |  hmp              &emsp;|  host monitoring protocol                      |
    |  xns-idp          &emsp;|  Xerox NS IDP                                  |
    |  rdp              &emsp;|  &#34;reliable datagram&#34; protocol                  |
    |  iso-tp4          &emsp;|  ISO Transport Protocol class 4 [RFC905]       |
    |  dccp             &emsp;|  Datagram Congestion Control Prot. [RFC4340]   |
    |  xtp              &emsp;|  Xpress Transfer Protocol                      |
    |  ddp              &emsp;|  Datagram Delivery Protocol                    |
    |  idpr-cmtp        &emsp;|  IDPR Control Message Transport                |
    |  Ipv6             &emsp;|  Internet Protocol, version 6                  |
    |  ipv6-route       &emsp;|  Routing Header for IPv6                       |
    |  ipv6-frag        &emsp;|  Fragment Header for IPv6                      |
    |  idrp             &emsp;|  Inter-Domain Routing Protocol                 |
    |  rsvp             &emsp;|  Reservation Protocol                          |
    |  gre              &emsp;|  General Routing Encapsulation                 |
    |  esp              &emsp;|  Encap Security Payload [RFC2406]              |
    |  ah               &emsp;|  Authentication Header [RFC2402]               |
    |  skip             &emsp;|  SKIP                                          |
    |  ipv6-icmp        &emsp;|  ICMP for IPv6                                 |
    |  ipv6-nonxt       &emsp;|  No Next Header for IPv6                       |
    |  ipv6-opts        &emsp;|  Destination Options for IPv6                  |
    |  rspf             &emsp;|  Radio Shortest Path First (officially CPHB)   |
    |  vmtp             &emsp;|  Versatile Message Transport                   |
    |  eigrp            &emsp;|  Enhanced Interior Routing Protocol (Cisco)    |
    |  ospf             &emsp;|  Open Shortest Path First IGP                  |
    |  ax.25            &emsp;|  AX.25 frames                                  |
    |  ipip             &emsp;|  IP-within-IP Encapsulation Protocol           |
    |  etherip          &emsp;|  Ethernet-within-IP Encapsulation [RFC3378]    |
    |  encap            &emsp;|  Yet Another IP encapsulation [RFC1241]        |
    |  99               &emsp;|  Any private encryption scheme                 |
    |  pim              &emsp;|  Protocol Independent Multicast                |
    |  ipcomp           &emsp;|  IP Payload Compression Protocol               |
    |  vrrp             &emsp;|  Virtual Router Redundancy Protocol [RFC5798]  |
    |  l2tp             &emsp;|  Layer Two Tunneling Protocol [RFC2661]        |
    |  isis             &emsp;|  IS-IS over IPv4                               |
    |  sctp             &emsp;|  Stream Control Transmission Protocol          |
    |  fc               &emsp;|  Fibre Channel                                 |
    |  mobility-header  &emsp;|  Mobility Support for IPv6 [RFC3775]           |
    |  udplite          &emsp;|  UDP-Lite [RFC3828]                            |
    |  mpls-in-ip       &emsp;|  MPLS-in-IP [RFC4023]                          |
    |  manet            &emsp;|  MANET Protocols [RFC5498]                     |
    |  hip              &emsp;|  Host Identity Protocol                        |
    |  shim6            &emsp;|  Shim6 Protocol                                |
    |  wesp             &emsp;|  Wrapped Encapsulating Security Payload        |
    |  rohc             &emsp;|  Robust Header Compression                     |
    |  0-255            &emsp;|  IP protocol number                            |
#### source
- `source` (Attributes) NAT source parameters (see [below for nested schema](#nestedatt--source))
#### timeouts
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
#### translation
- `translation` (Attributes) Outside NAT IP (source NAT only) (see [below for nested schema](#nestedatt--translation))

### Read-Only

#### id
- `id` (String) Resource ID, full vyos path to the resource with each field separated by dunder (`__`).

<a id="nestedatt--identifier"></a>
### Nested Schema for `identifier`

Required:

- `rule` (Number) Rule number for NAT

    |  Format    &emsp;|  Description         |
    |------------|----------------------|
    |  1-999999  &emsp;|  Number of NAT rule  |


<a id="nestedatt--destination"></a>
### Nested Schema for `destination`

Optional:

- `address` (String) IP address, subnet, or range

    |  Format      &emsp;|  Description                                    |
    |--------------|-------------------------------------------------|
    |  ipv4        &emsp;|  IPv4 address to match                          |
    |  ipv4net     &emsp;|  IPv4 prefix to match                           |
    |  ipv4range   &emsp;|  IPv4 address range to match                    |
    |  !ipv4       &emsp;|  Match everything except the specified address  |
    |  !ipv4net    &emsp;|  Match everything except the specified prefix   |
    |  !ipv4range  &emsp;|  Match everything except the specified range    |
- `fqdn` (String) Fully qualified domain name

    |  Format  &emsp;|  Description                  |
    |----------|-------------------------------|
    |  &lt;fqdn&gt;  &emsp;|  Fully qualified domain name  |
- `group` (Attributes) Group (see [below for nested schema](#nestedatt--destination--group))
- `port` (String) Port number

    |  Format     &emsp;|  Description                                                                                                                                                                          |
    |-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |  txt        &emsp;|  Named port (any name in /etc/services, e.g., http)                                                                                                                                   |
    |  1-65535    &emsp;|  Numeric IP port                                                                                                                                                                      |
    |  start-end  &emsp;|  Numbered port range (e.g. 1001-1005)                                                                                                                                                 |
    |             &emsp;|  </br></br>Multiple destination ports can be specified as a comma-separated list.</br>The whole list can also be negated using &#39;!&#39;.</br>For example: &#39;!22,telnet,http,123,1001-1005&#39;  |

<a id="nestedatt--destination--group"></a>
### Nested Schema for `destination.group`

Optional:

- `address_group` (String) Group of addresses
- `domain_group` (String) Group of domains
- `mac_group` (String) Group of MAC addresses
- `network_group` (String) Group of networks
- `port_group` (String) Group of ports



<a id="nestedatt--load_balance"></a>
### Nested Schema for `load_balance`

Optional:

- `hash` (List of String) Define the parameters of the packet header to apply the hashing

    |  Format               &emsp;|  Description                                               |
    |-----------------------|------------------------------------------------------------|
    |  source-address       &emsp;|  Use source IP address for hashing                         |
    |  destination-address  &emsp;|  Use destination IP address for hashing                    |
    |  source-port          &emsp;|  Use source port for hashing                               |
    |  destination-port     &emsp;|  Use destination port for hashing                          |
    |  random               &emsp;|  Do not use information from ip header. Use random value.  |


<a id="nestedatt--outbound_interface"></a>
### Nested Schema for `outbound_interface`

Optional:

- `group` (String) Match interface-group

    |  Format  &emsp;|  Description                             |
    |----------|------------------------------------------|
    |  txt     &emsp;|  Interface-group name to match           |
    |  !txt    &emsp;|  Inverted interface-group name to match  |
- `name` (String) Match interface

    |  Format  &emsp;|  Description                       |
    |----------|------------------------------------|
    |  txt     &emsp;|  Interface name                    |
    |  txt&amp;    &emsp;|  Interface name with wildcard      |
    |  !txt    &emsp;|  Inverted interface name to match  |


<a id="nestedatt--source"></a>
### Nested Schema for `source`

Optional:

- `address` (String) IP address, subnet, or range

    |  Format      &emsp;|  Description                                    |
    |--------------|-------------------------------------------------|
    |  ipv4        &emsp;|  IPv4 address to match                          |
    |  ipv4net     &emsp;|  IPv4 prefix to match                           |
    |  ipv4range   &emsp;|  IPv4 address range to match                    |
    |  !ipv4       &emsp;|  Match everything except the specified address  |
    |  !ipv4net    &emsp;|  Match everything except the specified prefix   |
    |  !ipv4range  &emsp;|  Match everything except the specified range    |
- `fqdn` (String) Fully qualified domain name

    |  Format  &emsp;|  Description                  |
    |----------|-------------------------------|
    |  &lt;fqdn&gt;  &emsp;|  Fully qualified domain name  |
- `group` (Attributes) Group (see [below for nested schema](#nestedatt--source--group))
- `port` (String) Port number

    |  Format     &emsp;|  Description                                                                                                                                                                          |
    |-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |  txt        &emsp;|  Named port (any name in /etc/services, e.g., http)                                                                                                                                   |
    |  1-65535    &emsp;|  Numeric IP port                                                                                                                                                                      |
    |  start-end  &emsp;|  Numbered port range (e.g. 1001-1005)                                                                                                                                                 |
    |             &emsp;|  </br></br>Multiple destination ports can be specified as a comma-separated list.</br>The whole list can also be negated using &#39;!&#39;.</br>For example: &#39;!22,telnet,http,123,1001-1005&#39;  |

<a id="nestedatt--source--group"></a>
### Nested Schema for `source.group`

Optional:

- `address_group` (String) Group of addresses
- `domain_group` (String) Group of domains
- `mac_group` (String) Group of MAC addresses
- `network_group` (String) Group of networks
- `port_group` (String) Group of ports



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as &#34;30s&#34; or &#34;2h45m&#34;. Valid time units are &#34;s&#34; (seconds), &#34;m&#34; (minutes), &#34;h&#34; (hours).


<a id="nestedatt--translation"></a>
### Nested Schema for `translation`

Optional:

- `address` (String) IP address, subnet, or range

    |  Format      &emsp;|  Description                                       |
    |--------------|----------------------------------------------------|
    |  ipv4        &emsp;|  IPv4 address to match                             |
    |  ipv4net     &emsp;|  IPv4 prefix to match                              |
    |  ipv4range   &emsp;|  IPv4 address range to match                       |
    |  masquerade  &emsp;|  NAT to the primary address of outbound-interface  |
- `options` (Attributes) Translation options (see [below for nested schema](#nestedatt--translation--options))
- `port` (String) Port number

    |  Format   &emsp;|  Description                            |
    |-----------|-----------------------------------------|
    |  1-65535  &emsp;|  Numeric IP port                        |
    |  range    &emsp;|  Numbered port range (e.g., 1001-1005)  |

<a id="nestedatt--translation--options"></a>
### Nested Schema for `translation.options`

Optional:

- `address_mapping` (String) Address mapping options

    |  Format      &emsp;|  Description                                                                |
    |--------------|-----------------------------------------------------------------------------|
    |  persistent  &emsp;|  Gives a client the same source or destination-address for each connection  |
    |  random      &emsp;|  Random source or destination address allocation for each connection        |
- `port_mapping` (String) Port mapping options

    |  Format  &emsp;|  Description                      |
    |----------|-----------------------------------|
    |  random  &emsp;|  Randomize source port mapping    |
    |  none    &emsp;|  Do not apply port randomization  |
